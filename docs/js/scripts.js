document.addEventListener("DOMContentLoaded",(function(){let t=localStorage.getItem("filter");function e(t){document.querySelectorAll(".cardWork").forEach((e=>{const a=e.getAttribute("data-category").split(",");!t||a.includes(t)?e.style.display="":e.style.display="none"})),document.querySelectorAll(".categories a").forEach((e=>{e.classList.toggle("activeCategory",e.getAttribute("data-category")===t)}))}t&&e(t),document.querySelectorAll(".categories a").forEach((a=>{a.addEventListener("click",(function(o){o.preventDefault(),t=a.getAttribute("data-category"),localStorage.setItem("filter",t),e(t)}))}))}));
document.addEventListener("DOMContentLoaded",(function(){function e(){const e=document.querySelector(".hamburger");function t(){window.matchMedia("(min-width: 500px)").matches?document.body.classList.remove("over_hidden"):e.classList.contains("hamburger_open")&&document.body.classList.add("over_hidden")}e.classList.toggle("hamburger_open"),document.querySelector(".nav").classList.toggle("nav_mobile"),document.querySelector(".header_line").classList.toggle("header_bgc_tr"),window.matchMedia("(max-width: 500px)").matches?document.body.classList.toggle("over_hidden"):document.body.classList.remove("over_hidden"),e.classList.contains("hamburger_open")?window.addEventListener("resize",t):window.removeEventListener("resize",t)}document.querySelector(".hamburger").onclick=e,document.querySelectorAll(".nav a").forEach((function(t){t.onclick=e}));let t=0;function n(){const e=document.querySelector("#header .header_line");let n=window.scrollY;n>t?e.classList.add("hide"):e.classList.remove("hide"),t=n,window.scrollY>e.offsetHeight?e.classList.add("header_bgc"):e.classList.remove("header_bgc")}window.addEventListener("scroll",n),window.addEventListener("touchmove",n),document.querySelectorAll(".header_menu a").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();document.querySelector(e.getAttribute("href")).scrollIntoView({behavior:"smooth"})}))})),document.querySelector("#getInTouchBtn").addEventListener("click",(function(e){e.preventDefault(),document.querySelector("#contacts").scrollIntoView({behavior:"smooth"})})),document.querySelectorAll(".bg_parallax").forEach((function(e){function t(t){let n=80*((t.pageX-window.scrollX)/window.innerWidth-.5),o=30*((t.pageY-window.scrollY)/window.innerHeight-.5);e.style.backgroundPosition=`${50+n}% ${50+o}%`}e.addEventListener("mousemove",t),e||e.removeEventListener("mousemove",t)}));const o=/^(\+\d{1,3}[-\s]?)?(\(?\d{3}\)?[-\s]?)\d{3}[-\s]?\d{2}[-\s]?\d{2}$/g,l=/^(\+\d{1,3}[-\s]?)?(\(?\d{3}\)?[-\s]?)\d{2}[-\s]?\d{3}[-\s]?\d{2}$/g,r=/^(\+\d{1,3}[-\s]?)?(\(?\d{3}\)?[-\s]?)\d{2}[-\s]?\d{2}[-\s]?\d{3}$/g;let c=[];c.tel=!1,document.querySelector("#tel").oninput=function(){const e=document.querySelector("#tel");let t=e.nextElementSibling,n=e.closest("form").querySelector(".disabledBtn"),i=e.value.replace(/[^+0-9\(\)\-\s]/g,"");e.value=i,i.length>0?i.length>=10?i.includes("(")&&!i.includes(")")||!i.includes("(")&&i.includes(")")?(c.tel=!0,t.innerHTML="Wrong number"):o.test(i)||l.test(i)||r.test(i)||o.test(i)||l.test(i)||r.test(i)?(c.tel=!1,t.innerHTML=""):(c.tel=!0,t.innerHTML="Wrong number"):c.tel=!0:c.tel=!1,c.tel||c.email||c.name?n.setAttribute("disabled",""):n.removeAttribute("disabled")};const i=/^([a-z][a-z0-9._-]+)(@[a-z][a-z0-9_-]+)(\.[a-z][a-z]+)(\.[a-z][a-z]+)?$/gi;c.email=!0,document.querySelectorAll(".email").forEach((function(e){e.oninput=function(){const t=e.closest("form").querySelector(".disabledBtn");let n=e.nextElementSibling,o=e.value;o.length>=10?i.test(o)||i.test(o)?(c.email=!1,n.innerHTML=""):(c.email=!0,n.innerHTML="Such email does NOT exist"):c.email=!0,c.tel||c.email||c.name?t.setAttribute("disabled",""):t.removeAttribute("disabled")}}));const s=/[a-z0-9 ]+$/gi;function d(){signUpPopUp.classList.add("hidden"),c.email=!1}function a(){signInPopUp.classList.add("hidden"),document.body.classList.remove("over_hidden"),c.tel=!1,c.email=!1,c.name=!1}c.name=!0,document.querySelectorAll(".name").forEach((function(e){e.oninput=function(){const t=e.closest("form").querySelector(".disabledBtn");let n=e.nextElementSibling,o=e.value;o.length>=8&&o.length<24&&(s.test(o)||s.test(o))?(c.name=!1,n.innerHTML=""):(c.name=!0,n.innerHTML="Name must be AlphaNumeric, 8-24 letters"),c.tel||c.email||c.name?t.setAttribute("disabled",""):t.removeAttribute("disabled")}})),document.querySelector("#showConfirmBtn").addEventListener("click",(function(){const e=document.querySelector("#signUpPopUp");e.classList.remove("hidden"),e.addEventListener("click",(function(t){t.target===e&&d()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&d()})),document.querySelector("#cancelBtn").onclick=d})),document.querySelector("#signUpBtn").addEventListener("click",(function(){const e=document.querySelector("#signUpBtn"),t=e.closest("form").querySelector('[name="name"]'),n=e.closest("form").querySelector('[name="email"]'),o=e.closest("form").querySelector('[name="tel"]'),l=e.closest("form").querySelector('[name="subject"]'),r=e.closest("form").querySelector('[name="message"]');let c={name:t.value,email:n.value,tel:o?o.value:"",subject:l?l.value:"",message:r?r.value:""};localStorage.setItem("user",JSON.stringify(c)),d()})),function(){if(null!==localStorage.getItem("user")){const e=document.querySelector("#signUpForm");let t=JSON.parse(localStorage.getItem("user"));e.querySelector('[name="name"]').value=t.name,e.querySelector('[name="email"]').value=t.email,e.querySelector('[name="tel"]').value=t.tel,document.querySelector("#showConfirmBtn").removeAttribute("disabled")}}(),document.querySelector("#getStarted").addEventListener("click",(function(){const e=document.querySelector("#signInPopUp");e.classList.remove("hidden"),document.body.classList.add("over_hidden"),e.addEventListener("click",(function(t){t.target===e&&a()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&a()})),e.querySelector("#closeBtn").onclick=a}));const u=document.querySelector("#home .welcome").innerText;document.querySelector("#signInBtn").addEventListener("click",(function(){const e=document.querySelector("#signInBtn"),t=JSON.parse(localStorage.getItem("user")),n=e.closest("form").querySelector('[name="name"]'),o=e.closest("form").querySelector('[name="email"]'),l=n.value,r=o.value;t&&r===t.email&&l===t.name?(a(),n.value=null,o.value=null,document.querySelector("#home .welcome").innerText=u+`, ${l}`):document.querySelector("#credentialError").innerText="Username or Email is incorrect"}));let m=0,f=null;document.querySelector(".triple_click").addEventListener("click",(function(){const e=document.querySelectorAll(".hacked");if(m++,clearTimeout(f),3===m){let t=[];e.forEach((function(e,n){t[n]=e.innerHTML,e.innerHTML="Triple click!",e.classList.add("red")})),setTimeout((function(){e.forEach((function(e,n){e.innerHTML=t[n],e.classList.remove("red")}))}),3e3),m=0}f=setTimeout((function(){m=0}),500)}));const h=document.querySelectorAll("#blog .text");let v=[];function g(e){e.preventDefault();const t=e.currentTarget,n=t.getAttribute("data_index"),o=h[n];"true"===o.getAttribute("data_is_full")?(o.innerText=v[n].slice(0,145)+" ...",t.innerText="Read more",o.setAttribute("data_is_full","false")):(o.innerText=v[n],t.innerText="Show less",o.setAttribute("data_is_full","true"))}function S(){document.querySelectorAll(".hiddenBlock").forEach((function(e){window.scrollY>=e.offsetTop-.33*window.innerHeight&&e.classList.add("appearBlock")}))}function y(){document.querySelectorAll(".hiddenChild").forEach((function(e){window.scrollY>=e.offsetTop-.5*window.innerHeight&&e.classList.add("appearChild")}))}h.forEach((function(e,t){e.innerText.length>150&&(v[t]=e.innerText,e.innerText=e.innerText.slice(0,145)+" ...",e.setAttribute("data_is_full","false"))})),document.querySelectorAll("#blog .readMore").forEach((function(e,t){e.setAttribute("data_index",t),e.addEventListener("click",g)})),window.addEventListener("scroll",S),window.addEventListener("wheel",S),window.addEventListener("touchmove",S),window.addEventListener("scroll",y),window.addEventListener("wheel",y),window.addEventListener("touchmove",y)}));